<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>How to start using elasticsearch (with docker)</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">How to start using elasticsearch (with docker)</h1>
</header>
<section data-field="subtitle" class="p-summary">
I just started learning about elasticsearch and I felt like all the guides I found were not complete.
</section>
<section data-field="body" class="e-content">
<section name="10f3" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="6b21" id="6b21" class="graf graf--h3 graf--leading graf--title">How to start using elasticsearch (with docker)</h3><p name="d2e7" id="d2e7" class="graf graf--p graf-after--h3">I just started learning about elasticsearch and I felt like all the guides I found were not complete.</p><p name="1acc" id="1acc" class="graf graf--p graf-after--p">So I decided to write a post about the steps I had to do to be ready to learn from the elasticsearch <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current" data-href="https://www.elastic.co/guide/en/elasticsearch/guide/current" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">formal guide</a></p><p name="ecf6" id="ecf6" class="graf graf--p graf-after--p">I also decided to use docker instead of polluting my environment with elasticsearch. and also to make it easier to start on a new computer.</p><p name="7501" id="7501" class="graf graf--p graf-after--p">This guide is written by a total beginner for docker and elasticsearch, so apologies for my mistakes. Please correct them. Thanks!</p><p name="7342" id="7342" class="graf graf--p graf-after--p">In the end of this guide you will have elasticsearch and Kibana containers installed.</p><p name="0605" id="0605" class="graf graf--p graf-after--p">We’re installing Kibana because the elastic guide uses Sense, which is a GUI to read the data in an elasticsearch database. Sense used to be a chrome extension, but today it’s integrated into Kibana.</p><p name="4319" id="4319" class="graf graf--p graf-after--p">This guide was tested on Linux, I’m not sure how it will work on other environments.</p><h3 name="61e6" id="61e6" class="graf graf--h3 graf-after--p">Prerequisites</h3><p name="4a0d" id="4a0d" class="graf graf--p graf-after--h3">First, make sure you have <code class="markup--code markup--p-code">docker</code> and <code class="markup--code markup--p-code">docker-compose</code> installed on your computer. otherwise, go to the following links:</p><ul class="postList"><li name="b90b" id="b90b" class="graf graf--li graf-after--p"><a href="https://docs.docker.com/engine/installation/" data-href="https://docs.docker.com/engine/installation/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">docker</a> — install the right version for your platform and use-case — most cases would use docker CE</li><li name="f929" id="f929" class="graf graf--li graf-after--li"><a href="https://docs.docker.com/compose/install/" data-href="https://docs.docker.com/compose/install/" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">docker-compose</a></li></ul><p name="15d9" id="15d9" class="graf graf--p graf-after--li">If you want to know more about docker, try this <a href="https://prakhar.me/docker-curriculum/" data-href="https://prakhar.me/docker-curriculum/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">guide</a></p><h3 name="a5c7" id="a5c7" class="graf graf--h3 graf-after--p">Containers</h3><p name="bb00" id="bb00" class="graf graf--p graf-after--h3">Pull the images for <code class="markup--code markup--p-code">elasticsearch</code> and <code class="markup--code markup--p-code">kibana</code></p><figure name="df08" id="df08" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/baad4bef3451770273bde036a3e765c3.js"></script></figure><h3 name="43db" id="43db" class="graf graf--h3 graf-after--figure">Configuration File</h3><p name="7f66" id="7f66" class="graf graf--p graf-after--h3">You should navigate to your working folder: e.g <code class="markup--code markup--p-code">~/repos/demo/elasticsearch</code> and not on your root folder.</p><p name="27e5" id="27e5" class="graf graf--p graf-after--p">Create two files called <code class="markup--code markup--p-code">docker-compose.yml</code> and <code class="markup--code markup--p-code">kibana.yml</code> inside your working path. <code class="markup--code markup--p-code">docker-compose.yml</code> is a configuration file for docker-compose, that tells it which containers to run with which settings.</p><p name="c75f" id="c75f" class="graf graf--p graf-after--p">This is the content for your <code class="markup--code markup--p-code">docker-compose.yml</code>:</p><pre name="9aad" id="9aad" class="graf graf--pre graf-after--p">version: &#39;2&#39;<br>services:<br>  elasticsearch:<br>    image: docker.elastic.co/elasticsearch/elasticsearch:5.3.1<br>    volumes:<br>      - esdata:/usr/share/elasticsearch/data<br>    ports:<br>      - &quot;9200:9200&quot;<br>      - &quot;9300:9300&quot;<br>    networks:<br>      - esnet<br>  kibana:<br>    image: docker.elastic.co/kibana/kibana:5.3.1<br>    volumes:<br>      - ./kibana.yml:/usr/share/kibana/config/kibana.yml<br>    networks: <br>      - esnet<br>    ports:<br>      - &quot;5601:5601&quot;<br>    depends_on:<br>      - elasticsearch<br><br>volumes:<br>  esdata:<br>    driver: local<br><br>networks:<br>  esnet:<br>    driver: bridge</pre><p name="be4c" id="be4c" class="graf graf--p graf-after--pre">I’ll try to explain what’s going in the file.</p><p name="b1ae" id="b1ae" class="graf graf--p graf-after--p">When running <code class="markup--code markup--p-code">docker-compose up</code> it looks for this file in the current directory. docker-compose is creating the needed clusters based on the services options. In our example it creates 2 containers, namely: <code class="markup--code markup--p-code">elasticsearch</code> and <code class="markup--code markup--p-code">kibana</code> (based on the keys of the services object)</p><p name="2a68" id="2a68" class="graf graf--p graf-after--p">We can see that <code class="markup--code markup--p-code">kibana</code> depends on <code class="markup--code markup--p-code">elasticsearch</code> (depends_on key) meaning it will wait until <code class="markup--code markup--p-code">elasticsearch</code> goes up before it starts.</p><p name="63a7" id="63a7" class="graf graf--p graf-after--p">Each service (or container) gets the following fields:</p><ul class="postList"><li name="0ec4" id="0ec4" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">image</code> - The image that this container depends on, and will be downloaded (or pulled) if not available.</li><li name="0931" id="0931" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">volumes</code> - Volume configuration for the containers. From what I understand it maps local files/folders into files/folders in the container. So in the <code class="markup--code markup--li-code">elasticsearch</code> case it exposes a folder to save the db data into, and <code class="markup--code markup--li-code">kibana</code> exposes our <code class="markup--code markup--li-code">kibana.yml</code> to the container so it can use it as a configuration file.</li><li name="1c93" id="1c93" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">networks</code> - specify the network that this service will be part of, this way the containers can talk to each other.</li><li name="b9d9" id="b9d9" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">ports</code> - map ports between local ports and the container. this way <code class="markup--code markup--li-code">elasticsearch</code> will be exposed on <code class="markup--code markup--li-code">localhost:9200</code> and <code class="markup--code markup--li-code">kibana</code> on <code class="markup--code markup--li-code">localhost:5601</code>. <code class="markup--code markup--li-code">elasticsearch</code> also exposes port 9300, this is for its transport protocol. I&#39;m not sure how much this is needed.</li></ul><p name="5dec" id="5dec" class="graf graf--p graf-after--li">The other options <code class="markup--code markup--p-code">volumes</code> and <code class="markup--code markup--p-code">networks</code> are setting &quot;variables&quot; to use in the services option, as you see in the <code class="markup--code markup--p-code">volumes</code> and <code class="markup--code markup--p-code">networks</code> options of the different services.</p><p name="7984" id="7984" class="graf graf--p graf-after--p">Following is the content for<code class="markup--code markup--p-code">kibana.yml</code> - configuration file for kibana</p><figure name="ec1f" id="ec1f" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/f435895f867f06a77ad148a98c45ce58.js"></script></figure><h3 name="4080" id="4080" class="graf graf--h3 graf-after--figure">Run</h3><p name="fd00" id="fd00" class="graf graf--p graf-after--h3">run <code class="markup--code markup--p-code">docker-compose up</code> (from the same folder where you saved <code class="markup--code markup--p-code">docker-compose.yml</code>)</p><p name="d8ef" id="d8ef" class="graf graf--p graf-after--p">If you don’t want to see the logs you can run <code class="markup--code markup--p-code">docker-compose up -d</code></p><p name="99c8" id="99c8" class="graf graf--p graf-after--p">To stop, run <code class="markup--code markup--p-code">docker-compose down</code> or if not in detached mode (If you didn’t use the -d flag) press <code class="markup--code markup--p-code">Ctrl + C</code></p><h3 name="89b6" id="89b6" class="graf graf--h3 graf-after--p">Use</h3><p name="2355" id="2355" class="graf graf--p graf-after--h3">You got now elastic on <code class="markup--code markup--p-code">http://localhost:9200</code> and kibana on <code class="markup--code markup--p-code"><a href="http://localhost:5601." data-href="http://localhost:5601." class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">http://localhost:5601</a></code></p><p name="d5de" id="d5de" class="graf graf--p graf-after--p">If you want to start with the guide, after reading the foreword and preface, you can skip Installing and Running Elasticsearch, because it is already installed.</p><p name="b77e" id="b77e" class="graf graf--p graf-after--p">Wherever they ask that you run a curl command from bash (or any other shell), you can just run it as they said, with the addition of <code class="markup--code markup--p-code">-U elastic</code>. When it&#39;s asking for password, write <code class="markup--code markup--p-code">changeme</code>.</p><p name="1299" id="1299" class="graf graf--p graf-after--p">REMEMBER: These settings are only for demo and playing with elastic, when you move to production the settings should be (or have to) be changed.</p><p name="68d9" id="68d9" class="graf graf--p graf-after--p">If you want to use Sense, go to kibana in <code class="markup--code markup--p-code">http://localhost:5601</code>, log in with the same credentials (user: elastic and password: changeme) and choose the devtools tab in the menu. Welcome to Sense.</p><h3 name="4840" id="4840" class="graf graf--h3 graf-after--p">Troubleshooting</h3><p name="5894" id="5894" class="graf graf--p graf-after--h3">If the elastic cluster doesn’t stay up it can be because you need to change a setting.</p><p name="404e" id="404e" class="graf graf--p graf-after--p">try running</p><figure name="e804" id="e804" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/a908d952f9a9229f3a5db326bcc61f0c.js"></script></figure><p name="a9f7" id="a9f7" class="graf graf--p graf-after--figure">if it helps, you can change the settings to stay like this for ever (or at least until you change it back)</p><p name="30f0" id="30f0" class="graf graf--p graf-after--p">add the following line to <code class="markup--code markup--p-code">/etc/sysctl.conf</code>:</p><figure name="8fe4" id="8fe4" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/b4f53c67e8950481a754f804bc0df793.js"></script></figure><p name="ca7a" id="ca7a" class="graf graf--p graf-after--figure">Hope this was helpful.</p><p name="cd16" id="cd16" class="graf graf--p graf-after--p graf--trailing">Thanks for reading.</p></div></div></section>
</section>
<footer><p>By <a href="https://medium.com/@chiptus" class="p-author h-card">Chaim Lev-Ari</a> on <a href="https://medium.com/p/fc608caaddf"><time class="dt-published" datetime="2017-04-26T13:03:56.973Z">April 26, 2017</time></a>.</p><p><a href="https://medium.com/@chiptus/how-to-start-using-elasticsearch-with-docker-fc608caaddf" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on October 13, 2025.</p></footer></article></body></html>